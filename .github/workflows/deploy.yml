name: Deploy to GitHub Pages
on:
push:
branches: [ main ]
pull_request:
branches: [ main ]
jobs:
build-and-deploy:
runs-on: ubuntu-latest
steps:
# Шаг 1: Checkout кода
- name: Checkout code
uses: actions/checkout@v4
# Шаг 2: Setup Node.js (может пригодиться для более сложных сборок)
- name: Setup Node.js
uses: actions/setup-node@v4
with:
node-version: '18'
cache: 'npm'
# Шаг 3: Проверка HTML (опционально)
- name: HTML Validation
uses: cyrilletuzi/validate-html@v4
with:
pattern: "**/*.html"
level: warning
# Шаг 4: Деплой на GitHub Pages
- name: Deploy to GitHub Pages
uses: peaceiris/actions-gh-pages@v3
with:
github_token: ${{ secrets.GITHUB_TOKEN }}
publish_dir: ./
force_orphan: true
# Шаг 5: Уведомление о успешном деплое
- name: Success notification
if: success()
run: |
echo "Сайт успешно развернут на GitHub Pages!"
echo "URL: https://${{ github.repository_owner }}.github.io/my-staticsite"

